import os
import re

def run():
    target = input("Enter target IP or domain: ").strip()

    # Validate input
    if not re.match(r"^\d{1,3}(\.\d{1,3}){3}$", target) and not re.match(r"^[a-zA-Z0-9.-]+$", target):
        print("Invalid target format.")
        return

    print(f"Scanning {target} for vulnerabilities...")
    os.system(f"nmap -A {target}")

    exploit_choice = input("Attempt SQL Injection? (yes/no): ").strip().lower()
    if exploit_choice == "yes":
        url = input("Enter vulnerable URL (e.g., http://target.com/page?id=1): ").strip()
        if url.startswith("http"):
            os.system(f"sqlmap -u {url} --batch")
        else:
            print("Invalid URL format.")

